{% comment %}
  Product Benefits Section - Complete Shopify Dynamic Section
  Save this file as: sections/product-benefits.liquid
{% endcomment %}

<section class="product-benefits" id="product-benefits-{{ section.id }}" 
         aria-label="{{ section.settings.section_aria_label | default: 'Product Benefits' }}">
  <div class="benefits-container">
    <div class="benefits-content">
      
      <div class="benefits-image-column">
        {% if section.settings.featured_image %}
          <img 
            src="{{ section.settings.featured_image | img_url: '600x600' }}" 
            alt="{{ section.settings.featured_image.alt | default: 'Product benefits' }}"
            class="benefits-image"
            width="600"
            height="600"
            loading="lazy"
          >
        {% endif %}
      </div>
      
      <div class="benefits-content-column">
        <div class="benefits-text-content">
          
          {% if section.settings.section_header != blank %}
            <{{ section.settings.header_tag | default: 'div' }} class="benefits-header">
              {{ section.settings.section_header }}
            </{{ section.settings.header_tag | default: 'div' }}>
          {% endif %}
          
          {% if section.settings.main_title_part1 != blank or section.settings.highlighted_word != blank or section.settings.main_title_part2 != blank %}
            <{{ section.settings.title_tag | default: 'h2' }} class="benefits-title">
              <p>{{ section.settings.main_title_part1 }} 
                {% if section.settings.highlighted_word != blank %}
                  <span class="highlighted-word">{{ section.settings.highlighted_word }}</span>
                {% endif %}
                {{ section.settings.main_title_part2 }}
              </p>
            </{{ section.settings.title_tag | default: 'h2' }}>
          {% endif %}
          
          {% if section.settings.description != blank %}
            <div class="benefits-description">
              <p>{{ section.settings.description }}</p>
            </div>
          {% endif %}
          
          {% if section.blocks.size > 0 %}
            <div class="benefits-grid">
              <div class="benefits-columns">
                
                <div class="benefits-column">
                  <div class="benefits-list">
                    {% for block in section.blocks %}
                      {% assign block_index = forloop.index0 %}
                      {% if block_index < 3 %}
                        {% if block.settings.make_clickable and block.settings.benefit_link != blank %}
                          <a href="{{ block.settings.benefit_link }}" 
                             class="benefit-item clickable" 
                             {{ block.shopify_attributes }}
                             {% if block.settings.open_in_new_tab %}target="_blank" rel="noopener"{% endif %}
                             aria-label="{{ block.settings.benefit_text | escape }}">
                        {% else %}
                          <div class="benefit-item" {{ block.shopify_attributes }}>
                        {% endif %}
                          {% unless block.settings.icon_type == 'none' %}
                            <div class="benefit-icon" style="width: {{ block.settings.icon_size | default: 38 }}px; height: {{ block.settings.icon_size | default: 38 }}px;">
                              {% case block.settings.icon_type %}
                                {% when 'svg' %}
                                  {% if block.settings.icon_svg != blank %}
                                    {% assign icon_with_color = block.settings.icon_svg %}
                                    {% assign icon_color = block.settings.custom_icon_color | default: '#879F98' %}
                                    {% assign icon_with_color = icon_with_color | replace: '#879F98', icon_color %}
                                    {% assign icon_with_color = icon_with_color | replace: 'stroke="#879F98"', 'stroke="' | append: icon_color | append: '"' %}
                                    {% assign icon_with_color = icon_with_color | replace: 'fill="#879F98"', 'fill="' | append: icon_color | append: '"' %}
                                    {{ icon_with_color }}
                                  {% endif %}
                                {% when 'image' %}
                                  {% if block.settings.icon_image %}
                                    <img 
                                      src="{{ block.settings.icon_image | img_url: '60x60' }}" 
                                      alt="{{ block.settings.benefit_text | escape }}"
                                      width="{{ block.settings.icon_size | default: 38 }}"
                                      height="{{ block.settings.icon_size | default: 38 }}"
                                      loading="lazy"
                                    >
                                  {% endif %}
                                {% when 'preset' %}
                                  {% assign icon_color = block.settings.custom_icon_color | default: '#879F98' %}
                                  {% assign icon_size = block.settings.icon_size | default: 38 %}
                                  {% case block.settings.preset_icon %}
                                    {% when 'check' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <circle cx="19" cy="19" r="18" stroke="{{ icon_color }}" stroke-width="2"/>
                                        <path d="M14 19l4 4 8-8" stroke="{{ icon_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                    {% when 'star' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 2l5.09 10.31L35 14.18l-8 7.8 1.89 11.02L19 28.31 9.11 33 11 21.98 3 14.18l10.91-1.87L19 2z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'heart' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 34C19 34 3 24 3 14c0-6 4-10 10-10 3 0 6 2 6 2s3-2 6-2c6 0 10 4 10 10 0 10-16 20-16 20z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'shield' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 2l14 6v12c0 8-6 14-14 16C11 34 5 28 5 20V8l14-6z" stroke="{{ icon_color }}" stroke-width="2" fill="none"/>
                                        <path d="M14 19l4 4 8-8" stroke="{{ icon_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                    {% when 'leaf' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 34c8-4 14-12 14-20C33 6 27 2 19 2S5 6 5 14c0 8 6 16 14 20z" fill="{{ icon_color }}"/>
                                        <path d="M19 2v32" stroke="white" stroke-width="2"/>
                                      </svg>
                                    {% when 'lightning' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M22 2L12 20h8l-2 16 10-18h-8l2-16z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'droplet' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 34c6 0 11-5 11-11 0-6-11-21-11-21s-11 15-11 21c0 6 5 11 11 11z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'flame' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 2c-4 6-2 12 2 16-2-2-4-1-4 2 0 6 4 10 10 10s10-4 10-10c0-8-6-12-8-18-1 4-5 6-10 0z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% else %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <circle cx="19" cy="19" r="18" stroke="{{ icon_color }}" stroke-width="2"/>
                                        <path d="M14 19l4 4 8-8" stroke="{{ icon_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                  {% endcase %}
                                {% else %}
                                  <svg width="{{ block.settings.icon_size | default: 38 }}" height="{{ block.settings.icon_size | default: 38 }}" viewBox="0 0 38 38" fill="none">
                                    <circle cx="19" cy="19" r="18" stroke="{{ block.settings.custom_icon_color | default: '#879F98' }}" stroke-width="2"/>
                                    <path d="M14 19l4 4 8-8" stroke="{{ block.settings.custom_icon_color | default: '#879F98' }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                  </svg>
                              {% endcase %}
                            </div>
                          {% endunless %}
                          <div class="benefit-text">{{ block.settings.benefit_text }}</div>
                        {% if block.settings.make_clickable and block.settings.benefit_link != blank %}
                          </a>
                        {% else %}
                          </div>
                        {% endif %}
                      {% endif %}
                    {% endfor %}
                  </div>
                </div>
                
                <div class="benefits-column">
                  <div class="benefits-list">
                    {% for block in section.blocks %}
                      {% assign block_index = forloop.index0 %}
                      {% if block_index >= 3 %}
                        {% if block.settings.make_clickable and block.settings.benefit_link != blank %}
                          <a href="{{ block.settings.benefit_link }}" 
                             class="benefit-item clickable" 
                             {{ block.shopify_attributes }}
                             {% if block.settings.open_in_new_tab %}target="_blank" rel="noopener"{% endif %}
                             aria-label="{{ block.settings.benefit_text | escape }}">
                        {% else %}
                          <div class="benefit-item" {{ block.shopify_attributes }}>
                        {% endif %}
                          {% unless block.settings.icon_type == 'none' %}
                            <div class="benefit-icon" style="width: {{ block.settings.icon_size | default: 38 }}px; height: {{ block.settings.icon_size | default: 38 }}px;">
                              {% case block.settings.icon_type %}
                                {% when 'svg' %}
                                  {% if block.settings.icon_svg != blank %}
                                    {% assign icon_with_color = block.settings.icon_svg %}
                                    {% assign icon_color = block.settings.custom_icon_color | default: '#879F98' %}
                                    {% assign icon_with_color = icon_with_color | replace: '#879F98', icon_color %}
                                    {% assign icon_with_color = icon_with_color | replace: 'stroke="#879F98"', 'stroke="' | append: icon_color | append: '"' %}
                                    {% assign icon_with_color = icon_with_color | replace: 'fill="#879F98"', 'fill="' | append: icon_color | append: '"' %}
                                    {{ icon_with_color }}
                                  {% endif %}
                                {% when 'image' %}
                                  {% if block.settings.icon_image %}
                                    <img 
                                      src="{{ block.settings.icon_image | img_url: '60x60' }}" 
                                      alt="{{ block.settings.benefit_text | escape }}"
                                      width="{{ block.settings.icon_size | default: 38 }}"
                                      height="{{ block.settings.icon_size | default: 38 }}"
                                      loading="lazy"
                                    >
                                  {% endif %}
                                {% when 'preset' %}
                                  {% assign icon_color = block.settings.custom_icon_color | default: '#879F98' %}
                                  {% assign icon_size = block.settings.icon_size | default: 38 %}
                                  {% case block.settings.preset_icon %}
                                    {% when 'check' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <circle cx="19" cy="19" r="18" stroke="{{ icon_color }}" stroke-width="2"/>
                                        <path d="M14 19l4 4 8-8" stroke="{{ icon_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                    {% when 'star' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 2l5.09 10.31L35 14.18l-8 7.8 1.89 11.02L19 28.31 9.11 33 11 21.98 3 14.18l10.91-1.87L19 2z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'heart' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 34C19 34 3 24 3 14c0-6 4-10 10-10 3 0 6 2 6 2s3-2 6-2c6 0 10 4 10 10 0 10-16 20-16 20z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'shield' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 2l14 6v12c0 8-6 14-14 16C11 34 5 28 5 20V8l14-6z" stroke="{{ icon_color }}" stroke-width="2" fill="none"/>
                                        <path d="M14 19l4 4 8-8" stroke="{{ icon_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                    {% when 'leaf' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 34c8-4 14-12 14-20C33 6 27 2 19 2S5 6 5 14c0 8 6 16 14 20z" fill="{{ icon_color }}"/>
                                        <path d="M19 2v32" stroke="white" stroke-width="2"/>
                                      </svg>
                                    {% when 'lightning' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M22 2L12 20h8l-2 16 10-18h-8l2-16z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'droplet' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 34c6 0 11-5 11-11 0-6-11-21-11-21s-11 15-11 21c0 6 5 11 11 11z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% when 'flame' %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <path d="M19 2c-4 6-2 12 2 16-2-2-4-1-4 2 0 6 4 10 10 10s10-4 10-10c0-8-6-12-8-18-1 4-5 6-10 0z" fill="{{ icon_color }}"/>
                                      </svg>
                                    {% else %}
                                      <svg width="{{ icon_size }}" height="{{ icon_size }}" viewBox="0 0 38 38" fill="none">
                                        <circle cx="19" cy="19" r="18" stroke="{{ icon_color }}" stroke-width="2"/>
                                        <path d="M14 19l4 4 8-8" stroke="{{ icon_color }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                      </svg>
                                  {% endcase %}
                                {% else %}
                                  <svg width="{{ block.settings.icon_size | default: 38 }}" height="{{ block.settings.icon_size | default: 38 }}" viewBox="0 0 38 38" fill="none">
                                    <circle cx="19" cy="19" r="18" stroke="{{ block.settings.custom_icon_color | default: '#879F98' }}" stroke-width="2"/>
                                    <path d="M14 19l4 4 8-8" stroke="{{ block.settings.custom_icon_color | default: '#879F98' }}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                  </svg>
                              {% endcase %}
                            </div>
                          {% endunless %}
                          <div class="benefit-text">{{ block.settings.benefit_text }}</div>
                        {% if block.settings.make_clickable and block.settings.benefit_link != blank %}
                          </a>
                        {% else %}
                          </div>
                        {% endif %}
                      {% endif %}
                    {% endfor %}
                  </div>
                </div>
                
              </div>
            </div>
          {% endif %}
          
        </div>
      </div>
      
    </div>
  </div>
</section>

<style>
  {% comment %} Load Shopify Fonts {% endcomment %}
  {% assign loaded_font_families = '' %}
  {% if section.settings.header_font and section.settings.header_font.family %}
    {% unless loaded_font_families contains section.settings.header_font.family %}
      {{ section.settings.header_font | font_face }}
      {% assign loaded_font_families = loaded_font_families | append: section.settings.header_font.family | append: ',' %}
    {% endunless %}
  {% endif %}
  {% if section.settings.title_font and section.settings.title_font.family %}
    {% unless loaded_font_families contains section.settings.title_font.family %}
      {{ section.settings.title_font | font_face }}
      {% assign loaded_font_families = loaded_font_families | append: section.settings.title_font.family | append: ',' %}
    {% endunless %}
  {% endif %}
  {% if section.settings.highlight_font and section.settings.highlight_font.family %}
    {% unless loaded_font_families contains section.settings.highlight_font.family %}
      {{ section.settings.highlight_font | font_face }}
      {% assign loaded_font_families = loaded_font_families | append: section.settings.highlight_font.family | append: ',' %}
    {% endunless %}
  {% endif %}
  {% if section.settings.description_font and section.settings.description_font.family %}
    {% unless loaded_font_families contains section.settings.description_font.family %}
      {{ section.settings.description_font | font_face }}
      {% assign loaded_font_families = loaded_font_families | append: section.settings.description_font.family | append: ',' %}
    {% endunless %}
  {% endif %}
  {% if section.settings.benefits_font and section.settings.benefits_font.family %}
    {% unless loaded_font_families contains section.settings.benefits_font.family %}
      {{ section.settings.benefits_font | font_face }}
      {% assign loaded_font_families = loaded_font_families | append: section.settings.benefits_font.family | append: ',' %}
    {% endunless %}
  {% endif %}

  .product-benefits {
    border-radius: 0;
    background-color: {{ section.settings.background_color | default: '#fcf9f4' }};
    width: 100%;
    padding: {{ section.settings.padding_top | default: 80 }}px 0 {{ section.settings.padding_bottom | default: 80 }}px 0;
    {% if section.settings.enable_fade_in_animation %}
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    transition-delay: {{ section.settings.animation_delay | default: 200 }}ms;
    {% endif %}
  }

  {% if section.settings.enable_fade_in_animation %}
  .product-benefits.animate-in {
    opacity: 1;
    transform: translateY(0);
  }
  {% endif %}

  .benefits-container {
    max-width: {{ section.settings.section_width | default: '1920px' }};
    width: 100%;
    padding-left: 20px;
    padding-right: 20px;
    margin: 0 auto;
  }

  .benefits-content {
    display: flex;
    gap: {{ section.settings.content_gap | default: 20 }}px;
    align-items: center;
    {% if section.settings.image_position == 'right' %}
    flex-direction: row-reverse;
    {% endif %}
  }

  .benefits-image-column,
  .benefits-content-column {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    line-height: normal;
    width: 50%;
  }

  .benefits-image-column {
    margin-left: 0;
  }

  .benefits-content-column {
    justify-content: center;
  }

  .benefits-image {
    aspect-ratio: 1;
    object-fit: contain;
    object-position: center;
    width: 100%;
    border-radius: 0;
    max-width: 100%;
    height: auto;
  }

  .benefits-text-content {
    display: flex;
    width: 100%;
    flex-direction: column;
    align-self: stretch;
    align-items: flex-start;
  }

  .benefits-header {
    color: {{ section.settings.header_color | default: '#20544b' }};
    {% if section.settings.header_font %}
      font-family: {{ section.settings.header_font.family }}, {{ section.settings.header_font.fallback_families }};
      font-weight: {{ section.settings.header_font.weight }};
      font-style: {{ section.settings.header_font.style }};
    {% else %}
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
      font-style: normal;
    {% endif %}
    font-size: {{ section.settings.header_font_size | default: 16 }}px;
    line-height: {{ section.settings.header_line_height | default: 1 }};
    text-transform: {% if section.settings.header_uppercase %}uppercase{% else %}none{% endif %};
    letter-spacing: {{ section.settings.header_letter_spacing | default: 0.5 }}px;
  }

  .benefits-title {
    color: {{ section.settings.title_color | default: '#20544b' }};
    {% if section.settings.title_font %}
      font-family: {{ section.settings.title_font.family }}, {{ section.settings.title_font.fallback_families }};
      font-weight: {{ section.settings.title_font.weight }};
      font-style: {{ section.settings.title_font.style }};
    {% else %}
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 700;
      font-style: normal;
    {% endif %}
    font-size: {{ section.settings.title_font_size | default: 45 }}px;
    line-height: {{ section.settings.title_line_height | default: 1.2 }};
    letter-spacing: {{ section.settings.title_letter_spacing | default: -0.9 }}px;
    margin-top: 12px;
  }

  .benefits-title p {
    margin: 0;
  }

  .highlighted-word {
    position: relative;
    display: inline-block;
    z-index: 1;
    color: {{ section.settings.highlight_color | default: '#20544b' }};
    {% if section.settings.highlight_font %}
      font-family: {{ section.settings.highlight_font.family }}, {{ section.settings.highlight_font.fallback_families }};
      font-weight: {{ section.settings.highlight_font.weight }};
      font-style: {{ section.settings.highlight_font.style }};
    {% endif %}
  }

  {% if section.settings.show_highlight_underline %}
  .highlighted-word::before {
    z-index: -1;
    content: "";
    position: absolute;
    bottom: {{ section.settings.highlight_underline_position | default: 0 }}px;
    left: 0;
    width: 113px;
    height: 7px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='113' height='7' viewBox='0 0 113 7' fill='none'%3E%3Cpath d='M1.99958 5.45926C16.2111 2.74664 57.9214 -1.07947 111.07 5.317' stroke='{{ section.settings.highlight_underline_color | default: '#79BE70' | url_encode }}' stroke-width='3' stroke-linecap='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-size: contain;
    pointer-events: none;
  }
  {% endif %}

  .benefits-description {
    color: {{ section.settings.description_color | default: '#21544c' }};
    {% if section.settings.description_font %}
      font-family: {{ section.settings.description_font.family }}, {{ section.settings.description_font.fallback_families }};
      font-weight: {{ section.settings.description_font.weight }};
      font-style: {{ section.settings.description_font.style }};
    {% else %}
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
      font-style: normal;
    {% endif %}
    font-size: {{ section.settings.description_font_size | default: 16 }}px;
    line-height: {{ section.settings.description_line_height | default: 1.4 }};
    letter-spacing: {{ section.settings.description_letter_spacing | default: 0 }}px;
    margin-top: 15px;
    max-width: {{ section.settings.description_max_width | default: 70 }}%;
  }

  .benefits-description p {
    margin: 0;
  }

  .benefits-grid {
    align-self: stretch;
    margin-top: 28px;
  }

  .benefits-columns {
    display: flex;
    gap: 20px;
    max-width: {{ section.settings.benefits_grid_max_width | default: 80 }}%;
  }

  .benefits-column {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    line-height: normal;
    width: 50%;
    margin-left: 0;
  }

  .benefits-column:last-child {
    margin-left: 20px;
  }

  .benefits-list {
    display: flex;
    width: 100%;
    flex-direction: column;
    align-items: flex-start;
    {% if section.settings.benefits_font %}
      font-family: {{ section.settings.benefits_font.family }}, {{ section.settings.benefits_font.fallback_families }};
      font-weight: {{ section.settings.benefits_font.weight }};
      font-style: {{ section.settings.benefits_font.style }};
    {% else %}
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 500;
      font-style: normal;
    {% endif %}
    font-size: {{ section.settings.benefits_font_size | default: 17 }}px;
    color: {{ section.settings.benefits_color | default: '#20544b' }};
    line-height: {{ section.settings.benefits_line_height | default: 1.1 }};
    letter-spacing: {{ section.settings.benefits_letter_spacing | default: 0 }}px;
  }

  .benefit-item {
    display: flex;
    align-items: stretch;
    gap: 15px;
    margin-top: {{ section.settings.benefit_items_gap | default: 22 }}px;
    {% if section.settings.enable_hover_effects %}
    transition: transform 0.3s ease, opacity 0.3s ease;
    cursor: default;
    {% endif %}
    text-decoration: none;
    color: inherit;
  }

  {% if section.settings.enable_hover_effects %}
  .benefit-item:hover {
    transform: translateX(5px);
  }

  .benefit-item.clickable {
    cursor: pointer;
  }

  .benefit-item.clickable:hover {
    transform: translateX(8px);
    opacity: 0.8;
  }
  {% endif %}

  .benefit-item:first-child {
    margin-top: 0;
    align-self: stretch;
  }

  .benefit-icon {
    aspect-ratio: 1;
    object-fit: contain;
    object-position: center;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .benefit-icon svg {
    width: 100%;
    height: 100%;
  }

  .benefit-icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .benefit-text {
    color: {{ section.settings.benefits_color | default: '#20544b' }};
    flex-basis: auto;
    align-self: center;
  }

  @media (min-width: 992px) {
    .benefits-container {
      padding-left: 100px;
      padding-right: 100px;
    }
  }

  @media (max-width: 991px) {
    .product-benefits {
      padding: {{ section.settings.mobile_padding_top | default: 40 }}px 0 {{ section.settings.mobile_padding_bottom | default: 40 }}px 0;
    }

  @media (max-width: 991px) {
    .product-benefits {
      padding: {{ section.settings.mobile_padding_top | default: 40 }}px 0 {{ section.settings.mobile_padding_bottom | default: 40 }}px 0;
    }

    .benefits-content {
      {% if section.settings.mobile_layout == 'image_top' %}
      flex-direction: column;
      {% else %}
      flex-direction: column-reverse;
      {% endif %}
      align-items: stretch;
      gap: 0;
    }

    {% if section.settings.mobile_layout == 'image_hidden' %}
    .benefits-image-column {
      display: none;
    }
    {% endif %}

    .benefits-image-column,
    .benefits-content-column {
      width: 100%;
      margin-left: 0;
    }

    .benefits-image-column {
      justify-content: center;
      align-items: center;
    }

    .benefits-content-column {
      justify-content: flex-start;
      margin-left: 0;
    }

    .benefits-image {
      max-width: 100%;
      width: 353px;
      height: 353px;
      margin-top: 40px;
    }

    .benefits-text-content {
      max-width: 100%;
      margin-top: 40px;
      {% if section.settings.center_content_mobile %}
      align-items: center;
      justify-content: center;
      {% else %}
      align-items: flex-start;
      justify-content: flex-start;
      {% endif %}
    }

    .benefits-header {
      {% if section.settings.center_content_mobile %}text-align: center;{% endif %}
      font-size: {{ section.settings.mobile_header_font_size | default: 14 }}px;
    }

    .benefits-title {
      {% if section.settings.center_content_mobile %}text-align: center;{% endif %}
      font-size: {{ section.settings.mobile_title_font_size | default: 40 }}px;
      line-height: 1.325;
    }

    .benefits-description {
      {% if section.settings.center_content_mobile %}text-align: center;{% endif %}
      max-width: 100%;
      font-size: {{ section.settings.mobile_description_font_size | default: 15 }}px;
    }

    .benefits-grid {
      max-width: 100%;
    }

    .benefits-columns {
      max-width: 100%;
      margin: 0 10px;
      flex-direction: column;
      gap: 0;
    }

    .benefits-column {
      margin-left: 0;
      width: 100%;
    }

    .benefits-column:last-child {
      margin-left: 0;
    }

    .benefit-text {
      white-space: break-spaces;
      font-size: {{ section.settings.mobile_benefits_font_size | default: 14 }}px;
      line-height: 1.1;
    }

    {% if section.settings.show_highlight_underline %}
    .highlighted-word::before {
      bottom: {{ section.settings.mobile_highlight_underline_position | default: 4 }}px;
    }
    {% endif %}
  }

  @media (max-width: 768px) {
    .benefits-columns {
      gap: 10px;
    }
    
    .benefit-item {
      gap: 12px;
    }

    .benefits-image {
      width: 280px;
      height: 280px;
    }

    .benefits-header {
      font-size: {{ section.settings.tablet_header_font_size | default: 13 }}px;
    }

    .benefits-title {
      font-size: {{ section.settings.tablet_title_font_size | default: 36 }}px;
    }

    .benefits-description {
      font-size: {{ section.settings.tablet_description_font_size | default: 14 }}px;
    }

    .benefit-text {
      font-size: {{ section.settings.tablet_benefits_font_size | default: 13 }}px;
    }
  }

  @media (max-width: 480px) {
    .benefits-image {
      width: 240px;
      height: 240px;
    }
    
    .benefits-description {
      max-width: 100%;
    }

    .benefits-header {
      font-size: {{ section.settings.mobile_small_header_font_size | default: 12 }}px;
    }

    .benefits-title {
      font-size: {{ section.settings.mobile_small_title_font_size | default: 32 }}px;
    }

    .benefits-description {
      font-size: {{ section.settings.mobile_small_description_font_size | default: 13 }}px;
    }

    .benefit-text {
      font-size: {{ section.settings.mobile_small_benefits_font_size | default: 12 }}px;
    }
  }
</style>

{% if section.settings.enable_fade_in_animation %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const section = document.getElementById('product-benefits-{{ section.id }}');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
          observer.unobserve(entry.target);
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });
    
    if (section) {
      observer.observe(section);
    }
  });
</script>
{% endif %}

{% schema %}
{
  "name": "Product Benefits",
  "tag": "section",
  "class": "section-product-benefits",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "image_picker",
      "id": "featured_image",
      "label": "Featured Image",
      "info": "Recommended size: 600x600px"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#fcf9f4"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Top Padding (Desktop)",
      "default": 80
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 120,
      "step": 4,
      "unit": "px",
      "label": "Bottom Padding (Desktop)",
      "default": 80
    },
    {
      "type": "range",
      "id": "mobile_padding_top",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Top Padding (Mobile)",
      "default": 40
    },
    {
      "type": "range",
      "id": "mobile_padding_bottom",
      "min": 0,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Bottom Padding (Mobile)",
      "default": 40
    },
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "text",
      "id": "section_header",
      "label": "Section Header",
      "default": "The secret to gut health"
    },
    {
      "type": "text",
      "id": "main_title_part1",
      "label": "Main Title (Part 1)",
      "default": "30g"
    },
    {
      "type": "text",
      "id": "highlighted_word",
      "label": "Highlighted Word",
      "default": "Daily"
    },
    {
      "type": "text",
      "id": "main_title_part2",
      "label": "Main Title (Part 2)",
      "default": ".<br>It's That Simple."
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Sounds clickbait. It's anything but. The one trick to improving gut health—and all that goes with it—is getting your daily dose of fiber."
    },
    {
      "type": "range",
      "id": "description_max_width",
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Description Max Width",
      "default": 70
    },
    {
      "type": "range",
      "id": "benefits_grid_max_width",
      "min": 60,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Benefits Grid Max Width",
      "default": 80
    },
    {
      "type": "header",
      "content": "Header Typography"
    },
    {
      "type": "font_picker",
      "id": "header_font",
      "label": "Header Font",
      "default": "helvetica_n4",
      "info": "Select from Shopify's font library"
    },
    {
      "type": "color",
      "id": "header_color",
      "label": "Header Color",
      "default": "#20544b"
    },
    {
      "type": "range",
      "id": "header_font_size",
      "min": 12,
      "max": 32,
      "step": 1,
      "unit": "px",
      "label": "Header Font Size (Desktop)",
      "default": 16
    },
    {
      "type": "range",
      "id": "header_line_height",
      "min": 0.8,
      "max": 2,
      "step": 0.1,
      "label": "Header Line Height",
      "default": 1
    },
    {
      "type": "range",
      "id": "header_letter_spacing",
      "min": -2,
      "max": 5,
      "step": 0.1,
      "unit": "px",
      "label": "Header Letter Spacing",
      "default": 0.5
    },
    {
      "type": "checkbox",
      "id": "header_uppercase",
      "label": "Header Uppercase",
      "default": true
    },
    {
      "type": "range",
      "id": "mobile_header_font_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Header Font Size (Mobile)",
      "default": 14
    },
    {
      "type": "range",
      "id": "tablet_header_font_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Header Font Size (Tablet)",
      "default": 13
    },
    {
      "type": "range",
      "id": "mobile_small_header_font_size",
      "min": 8,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Header Font Size (Small Mobile)",
      "default": 12
    },
    {
      "type": "header",
      "content": "Title Typography"
    },
    {
      "type": "font_picker",
      "id": "title_font",
      "label": "Title Font",
      "default": "helvetica_n7",
      "info": "Select from Shopify's font library"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title Color",
      "default": "#20544b"
    },
    {
      "type": "range",
      "id": "title_font_size",
      "min": 24,
      "max": 80,
      "step": 1,
      "unit": "px",
      "label": "Title Font Size (Desktop)",
      "default": 45
    },
    {
      "type": "range",
      "id": "title_line_height",
      "min": 0.8,
      "max": 2,
      "step": 0.1,
      "label": "Title Line Height",
      "default": 1.2
    },
    {
      "type": "range",
      "id": "title_letter_spacing",
      "min": -3,
      "max": 3,
      "step": 0.1,
      "unit": "px",
      "label": "Title Letter Spacing",
      "default": -0.9
    },
    {
      "type": "range",
      "id": "mobile_title_font_size",
      "min": 20,
      "max": 60,
      "step": 1,
      "unit": "px",
      "label": "Title Font Size (Mobile)",
      "default": 40
    },
    {
      "type": "range",
      "id": "tablet_title_font_size",
      "min": 20,
      "max": 60,
      "step": 1,
      "unit": "px",
      "label": "Title Font Size (Tablet)",
      "default": 36
    },
    {
      "type": "range",
      "id": "mobile_small_title_font_size",
      "min": 18,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Title Font Size (Small Mobile)",
      "default": 32
    },
    {
      "type": "header",
      "content": "Highlighted Word Settings"
    },
    {
      "type": "font_picker",
      "id": "highlight_font",
      "label": "Highlighted Word Font",
      "default": "helvetica_n7",
      "info": "Font for the highlighted word (can be different from title)"
    },
    {
      "type": "color",
      "id": "highlight_color",
      "label": "Highlighted Word Color",
      "default": "#20544b"
    },
    {
      "type": "checkbox",
      "id": "show_highlight_underline",
      "label": "Show Highlight Underline",
      "default": true
    },
    {
      "type": "color",
      "id": "highlight_underline_color",
      "label": "Highlight Underline Color",
      "default": "#79BE70"
    },
    {
      "type": "range",
      "id": "highlight_underline_position",
      "min": -5,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Underline Position (Desktop)",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_highlight_underline_position",
      "min": -5,
      "max": 10,
      "step": 1,
      "unit": "px",
      "label": "Underline Position (Mobile)",
      "default": 4
    },
    {
      "type": "header",
      "content": "Description Typography"
    },
    {
      "type": "font_picker",
      "id": "description_font",
      "label": "Description Font",
      "default": "helvetica_n4",
      "info": "Select from Shopify's font library"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#21544c"
    },
    {
      "type": "range",
      "id": "description_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Description Font Size (Desktop)",
      "default": 16
    },
    {
      "type": "range",
      "id": "description_line_height",
      "min": 1,
      "max": 2,
      "step": 0.1,
      "label": "Description Line Height",
      "default": 1.4
    },
    {
      "type": "range",
      "id": "description_letter_spacing",
      "min": -2,
      "max": 3,
      "step": 0.1,
      "unit": "px",
      "label": "Description Letter Spacing",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_description_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Description Font Size (Mobile)",
      "default": 15
    },
    {
      "type": "range",
      "id": "tablet_description_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Description Font Size (Tablet)",
      "default": 14
    },
    {
      "type": "range",
      "id": "mobile_small_description_font_size",
      "min": 8,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Description Font Size (Small Mobile)",
      "default": 13
    },
    {
      "type": "header",
      "content": "Benefits Typography"
    },
    {
      "type": "font_picker",
      "id": "benefits_font",
      "label": "Benefits Font",
      "default": "helvetica_n4",
      "info": "Select from Shopify's font library"
    },
    {
      "type": "color",
      "id": "benefits_color",
      "label": "Benefits Text Color",
      "default": "#20544b"
    },
    {
      "type": "range",
      "id": "benefits_font_size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Benefits Font Size (Desktop)",
      "default": 17
    },
    {
      "type": "range",
      "id": "benefits_line_height",
      "min": 0.8,
      "max": 2,
      "step": 0.1,
      "label": "Benefits Line Height",
      "default": 1.1
    },
    {
      "type": "range",
      "id": "benefits_letter_spacing",
      "min": -2,
      "max": 3,
      "step": 0.1,
      "unit": "px",
      "label": "Benefits Letter Spacing",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_benefits_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Benefits Font Size (Mobile)",
      "default": 14
    },
    {
      "type": "range",
      "id": "tablet_benefits_font_size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Benefits Font Size (Tablet)",
      "default": 13
    },
    {
      "type": "range",
      "id": "mobile_small_benefits_font_size",
      "min": 8,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Benefits Font Size (Small Mobile)",
      "default": 12
    },
    {
      "type": "header",
      "content": "Animation & Effects"
    },
    {
      "type": "checkbox",
      "id": "enable_fade_in_animation",
      "label": "Enable Fade-in Animation",
      "default": false,
      "info": "Adds a subtle fade-in effect when section comes into view"
    },
    {
      "type": "checkbox",
      "id": "enable_hover_effects",
      "label": "Enable Benefit Item Hover Effects",
      "default": true,
      "info": "Adds hover effects to benefit items"
    },
    {
      "type": "range",
      "id": "animation_delay",
      "min": 0,
      "max": 1000,
      "step": 100,
      "unit": "ms",
      "label": "Animation Delay",
      "default": 200,
      "info": "Delay before animations start"
    },
    {
      "type": "header",
      "content": "Advanced Layout Settings"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Section Max Width",
      "options": [
        {
          "value": "1200px",
          "label": "Standard (1200px)"
        },
        {
          "value": "1400px",
          "label": "Wide (1400px)"
        },
        {
          "value": "1600px",
          "label": "Extra Wide (1600px)"
        },
        {
          "value": "1920px",
          "label": "Full Width (1920px)"
        },
        {
          "value": "100%",
          "label": "Container Full Width"
        }
      ],
      "default": "1920px"
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image Position",
      "options": [
        {
          "value": "left",
          "label": "Left (Default)"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "range",
      "id": "content_gap",
      "min": 10,
      "max": 80,
      "step": 5,
      "unit": "px",
      "label": "Content Gap",
      "default": 20,
      "info": "Space between image and content"
    },
    {
      "type": "range",
      "id": "benefit_items_gap",
      "min": 10,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Benefit Items Gap",
      "default": 22,
      "info": "Space between benefit items"
    },
    {
      "type": "select",
      "id": "mobile_layout",
      "label": "Mobile Layout",
      "options": [
        {
          "value": "image_bottom",
          "label": "Image at Bottom (Default)"
        },
        {
          "value": "image_top",
          "label": "Image at Top"
        },
        {
          "value": "image_hidden",
          "label": "Hide Image on Mobile"
        }
      ],
      "default": "image_bottom"
    },
    {
      "type": "checkbox",
      "id": "center_content_mobile",
      "label": "Center Content on Mobile",
      "default": true
    },
    {
      "type": "header",
      "content": "SEO & Accessibility"
    },
    {
      "type": "select",
      "id": "header_tag",
      "label": "Header HTML Tag",
      "options": [
        {
          "value": "div",
          "label": "Div (Default)"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        }
      ],
      "default": "div"
    },
    {
      "type": "select",
      "id": "title_tag",
      "label": "Title HTML Tag",
      "options": [
        {
          "value": "div",
          "label": "Div"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2 (Recommended)"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        }
      ],
      "default": "h2"
    },
    {
      "type": "text",
      "id": "section_aria_label",
      "label": "Section ARIA Label",
      "default": "Product Benefits",
      "info": "Helps screen readers understand the section purpose"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Benefit Item",
      "settings": [
        {
          "type": "select",
          "id": "icon_type",
          "label": "Icon Type",
          "options": [
            {
              "value": "svg",
              "label": "Custom SVG"
            },
            {
              "value": "image",
              "label": "Upload Image"
            },
            {
              "value": "preset",
              "label": "Preset Icon"
            },
            {
              "value": "none",
              "label": "No Icon"
            }
          ],
          "default": "preset"
        },
        {
          "type": "select",
          "id": "preset_icon",
          "label": "Preset Icon",
          "options": [
            {
              "value": "check",
              "label": "✓ Checkmark"
            },
            {
              "value": "star",
              "label": "★ Star"
            },
            {
              "value": "heart",
              "label": "♥ Heart"
            },
            {
              "value": "shield",
              "label": "🛡 Shield"
            },
            {
              "value": "leaf",
              "label": "🍃 Leaf"
            },
            {
              "value": "lightning",
              "label": "⚡ Lightning"
            },
            {
              "value": "droplet",
              "label": "💧 Droplet"
            },
            {
              "value": "flame",
              "label": "🔥 Flame"
            }
          ],
          "default": "check",
          "info": "Choose from preset icons"
        },
        {
          "type": "textarea",
          "id": "icon_svg",
          "label": "Custom SVG Code",
          "info": "Paste your SVG code here. Make sure SVG has width and height attributes."
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Upload Icon Image",
          "info": "Upload an icon image (38x38px recommended)"
        },
        {
          "type": "text",
          "id": "benefit_text",
          "label": "Benefit Text",
          "default": "Benefit Description"
        },
        {
          "type": "color",
          "id": "custom_icon_color",
          "label": "Icon Color",
          "default": "#879F98",
          "info": "Color for preset icons and some SVGs"
        },
        {
          "type": "range",
          "id": "icon_size",
          "min": 20,
          "max": 60,
          "step": 2,
          "unit": "px",
          "label": "Icon Size",
          "default": 38
        },
        {
          "type": "checkbox",
          "id": "make_clickable",
          "label": "Make Benefit Clickable",
          "default": false
        },
        {
          "type": "url",
          "id": "benefit_link",
          "label": "Benefit Link",
          "info": "Add a link if benefit is clickable"
        },
        {
          "type": "checkbox",
          "id": "open_in_new_tab",
          "label": "Open Link in New Tab",
          "default": false
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product Benefits",
      "blocks": [
        {
          "type": "benefit",
          "settings": {
            "benefit_text": "Boosts GLP-1 Naturally",
            "icon_type": "preset",
            "preset_icon": "check"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "benefit_text": "Curbs Cravings",
            "icon_type": "preset",
            "preset_icon": "shield"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "benefit_text": "Improves Immunity",
            "icon_type": "preset",
            "preset_icon": "heart"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "benefit_text": "Supports Gut Health",
            "icon_type": "preset",
            "preset_icon": "leaf"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "benefit_text": "Promotes Healthy Weight",
            "icon_type": "preset",
            "preset_icon": "star"
          }
        },
        {
          "type": "benefit",
          "settings": {
            "benefit_text": "Balances Blood Sugar",
            "icon_type": "preset",
            "preset_icon": "droplet"
          }
        }
      ]
    }
  ]
}
  {% endschema %}